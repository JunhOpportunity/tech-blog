---
title: "ìŠ¤í† ë¦¬ë¶ê³¼ í¬ë¡œë§ˆí‹±"
date: "2024-02-21"
category: "tdd"
---

# ìŠ¤í† ë¦¬ë¶

> UI ê°œë°œ ë„êµ¬ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° ì»¨í…ìŠ¤íŠ¸ì— ê°„ì„­ ì—†ì´ ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹œë‚˜ë¦¬ì˜¤ ë³„ë¡œ ë Œë”ë§ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ë„êµ¬
> 

ìŠ¤í† ë¦¬ë¶ì„ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì˜ UI ë Œë”ë§ ìƒíƒœì™€ ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í•˜ë©° ê°œë°œì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

ìŠ¤í† ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹œê°ì  íšŒê·€ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

ìŠ¤í† ë¦¬ë¶ì€ ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ì •ì˜ê°€ ì–´ë µê³  í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨, í…ŒìŠ¤íŠ¸ ì„±ê³µ, ë¦¬íŒ©í† ë§ ì‚¬ì´í´ì„ ê±°ì¹˜ëŠ” TDDì— ìˆì–´ ëª…í™•í•œ í…ŒìŠ¤íŠ¸ ë„êµ¬ë¼ê¸° ë³´ë‹¤ëŠ” UIê°œë°œ ë„êµ¬ì— ê°€ê¹ê¸° ë•Œë¬¸ì— ì„±ê³µê³¼ ì‹¤íŒ¨ì— ëŒ€í•œ í”¼ë“œë°±ì„ ëª…í™•íˆ ë°›ê¸° ì–´ë µë‹¤.

ë˜í•œ ê°œë°œìê°€ ì§ì ‘ ìˆ˜ë™ìœ¼ë¡œ UI ë Œë”ë§ ìƒíƒœë¥¼ ìŠ¤í† ë¦¬ë¶ì—ì„œ í™•ì¸í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë²ˆê±°ë¡­ë‹¤.

TDDì˜ ì ìš© ì—¬ë¶€ì™€ëŠ” ìƒê´€ì—†ì´ ìŠ¤í† ë¦¬ë¶ì€ ì»´í¬ë„ŒíŠ¸ ê°œë°œì˜ íš¨ìœ¨ì„±ê³¼ ì •í™•ì„±ì„ ë†’ì—¬ì¤€ë‹¤.

ìŠ¤í† ë¦¬ë¶ ì‹¤í–‰ì‹œ í•„ìš”í•œ ì„¤ì •ì€ `.storybook` í´ë” ë‚´ë¶€ì— ì •ì˜í•œë‹¤.

â­• ìŠ¤í† ë¦¬ëŠ” propsë§Œ ë°›ì•„ UIë§Œ ë Œë”ë§í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
ë Œë”ë§ ê²°ê³¼ë¥¼ ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— UI ê°œë°œ ì‹œê°„ì´ êµ‰ì¥íˆ ë‹¨ì¶•ëœë‹¤.

âŒ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ìŠ¤í† ë¦¬ë¡œ ì‘ì„±í•  ê²½ìš° ëª‡ ê°€ì§€ UI í™•ì¸ì„ ìœ„í•´ ê³¼í•œ ëª¨í‚¹ì´ í•„ìš”í•´ì§€ë¯€ë¡œ ìŠ¤í† ë¦¬ ì‘ì„±ì— ì í•©í•˜ì§€ ì•Šë‹¤.

## ìŠ¤í† ë¦¬ ì‘ì„±

ìŠ¤í† ë¦¬ëŠ” story.js ë˜ëŠ” story.ts ë¡œ ëë‚˜ëŠ” íŒŒì¼ì— ì‘ì„±í•˜ë©° ê° ì»´í¬ë„ŒíŠ¸ëŠ” ES6 ëª¨ë“ˆ ê¸°ë°˜ì˜ CSF(Component Story Format) ìœ¼ë¡œ ì‘ì„±

**ë©”íƒ€ ë°ì´í„°**
ì´ë¦„ì´ë‚˜ ë™ì‘ì— ëŒ€í•œ ì •ë³´ë¥¼ ì„¤ëª… (default export ë¡œ ì •ì˜)

- title : ìŠ¤í† ë¦¬ë¶ ë„¤ì´ê²Œì´ì…˜ UIì— ì–´ë–»ê²Œ ë…¸ì¶œë  ì§€ ê³„ì¸µì„ ë‚˜íƒ€ë‚¸ë‹¤. í•„ìˆ˜ ê°’ì€ ì•„ë‹ˆì§€ë§Œ ë‹¤ë¥¸ íŒŒì¼ì˜ íƒ€ì´í‹€ê³¼ ê²¹ì¹˜ì§€ ì•ŠëŠ” ê³ ìœ í•œ ê°’ì´ì–´ì•¼ í•œë‹¤.
- component : ë Œë”ë§ í•  ì»´í¬ë„ŒíŠ¸ ì„¤ì •
- argTypes : ì‚¬ìš©ìê°€ ìŠ¤í† ë¦¬ì˜ ì»¨íŠ¸ë¡¤ ìŠ¤íƒ­ì—ì„œ ê°’ì„ ë³€ê²½í•˜ë©° ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ì— ëŒ€í•œ ì •ë³´

```jsx
export default {
  title: 'í™ˆ/ìƒí’ˆ ì¹´ë“œ',
  component: ProductCard,
  argTypes: {
    product: {
      control: 'object',
      description: 'ìƒí’ˆì˜ ì •ë³´',
    },
  },
};
```

**ìŠ¤í† ë¦¬**
ê°ê°ì˜ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë‚˜íƒ€ëƒ„ (named export ë¡œ ì •ì˜)

- name : ìŠ¤í† ë¦¬ì˜ ì´ë¦„ ì„¤ì •, ì´ í•„ë“œë¥¼ ì •ì˜í•˜ë©´ ìŠ¤í† ë¦¬ì˜ ì´ë¦„ì„ ì›í•˜ëŠ” ëŒ€ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ë§Œì•½ ì´ í•„ë“œë¥¼ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ ë³€ìˆ˜ ëª…ìœ¼ë¡œ ì„¤ì •ëœë‹¤.
- args : ìŠ¤í† ë¦¬ì˜ ë‹¤ì–‘í•œ í˜•íƒœì˜ ê°’ì„ ë™ì ìœ¼ë¡œ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©

```jsx
export const Default = {
  name: 'ê¸°ë³¸',
  args: {
    product,
  },
};
```

**play í•¨ìˆ˜**

ìŠ¤í† ë¦¬ë¥¼ ë Œë”ë§ í•œ ë’¤ ì‚¬ìš©ìì˜ ìƒí˜¸ì‘ìš©ì„ ì‹œë®¬ë ˆì´ì…˜ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” í•¨ìˆ˜

ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” storybook/addon-interactions ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ê³  storybook-addons ì„¤ì •ì— ì¶”ê°€í•´ì•¼ í•œë‹¤.

play í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ìˆœì°¨ì ìœ¼ë¡œ ì‹œë®¬ë ˆì´ì…˜ í•˜ë©´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

```jsx
export const WithValue = {
  name: 'ê°€ê²©ì´ ì…ë ¥ëœ ìƒíƒœ',
  play: async ({ canvasElement }) => {
		// canvasElement : ìŠ¤í† ë¦¬ê°€ ë Œë”ë§ë˜ëŠ” ë£¨íŠ¸ ìš”ì†Œ
    const canvas = within(canvasElement);

    const [min, max] = canvas.getAllByRole('textbox');
		// ìœ ì € ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•´ í•„ë“œì— ê°’ ì…ë ¥í•˜ëŠ” ê³¼ì • ì‹œë®¬ë ˆì´ì…˜
    await userEvent.type(min, '300');
    await userEvent.type(max, '40000');
  },
};
```

# ğŸ¤” í¬ë¡œë§ˆí‹± (ì§ì ‘ ì¨ë´ì•¼ í™•ì‹¤í•˜ê²Œ ì´í•´í•  ìˆ˜ ìˆì„ë“¯)

> ìŠ¤í† ë¦¬ë¶ ë©”ì¸í…Œì´ë„ˆë“¤ì´ ë§Œë“  ì‹œê°ì  íšŒê·€ í…ŒìŠ¤íŠ¸ ë„êµ¬
> 

ìŠ¤í† ë¦¬ë¶ íŒ€ì—ì„œ ë§Œë“¤ì—ˆê¸° ë•Œë¬¸ì— ìŠ¤í† ë¦¬ë¶ê³¼ì˜ ì—°ë™ì´ ë§¤ìš° í¸ë¦¬í•˜ê³  CIì™€ ì—°ë™í•˜ê¸°ë„ ì‰¬ìš´ í¸ì´ë‹¤. ë˜í•œ, íŒ€ ì‘ì—…ì„ í•˜ê¸° ì¢‹ì€ ì›Œí¬ í”Œë¡œìš° í™˜ê²½ì„ ì œê³µí•œë‹¤.

Github ì½œë¼ë³´ë ˆì´í„°ëŠ” ìë™ìœ¼ë¡œ ë¦¬ë·°ì–´ë¡œ ì§€ì •ëœë‹¤. ë³„ë„ì˜ ë¦¬ë·°ì–´ë¥¼ ì§€ì •í•˜ê³  ì‹¶ë‹¤ë©´ Assign Reviewersë¥¼ í†µí•´ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

## ì‚¬ìš© ë°©ë²•

í¬ë¡œë§ˆí‹± í™ˆí˜ì´ì§€ì—ì„œ í† í°ì„ ë°›ì•„ì•¼ í•œë‹¤.

ê¸°ë³¸ ì„¤ì •ì„ ë§ˆì¹œ ë’¤ ìŠ¤í† ë¦¬ë“¤ì„ ì—…ë¡œë“œí•˜ë©´ í¬ë¡œë§ˆí‹± í˜ì´ì§€ì—ì„œ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤.

ë°°í¬í•  ë•ŒëŠ” ë°˜ë“œì‹œ ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•œ í›„ì— ë°°í¬ë¥¼ ì§„í–‰í•´ì•¼ í•œë‹¤.

ë§Œì•½ ì˜ë„í•œ ë³€ê²½ì´ë¼ë©´ Acceptë¥¼ ëˆ„ë¥´ê³ , ì˜ë„í•˜ì§€ ì•Šì€ ë³€ê²½ì´ë¼ë©´ ì›ì¸ì„ ì°¾ì•„ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  ìŠ¤ëƒ…ìƒ·ì´ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•Šë„ë¡ Deny ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í•œë‹¤.

## Github Actionsë¥¼ í™œìš©í•´ ìë™í™”

> ì§ì ‘ CLIë¥¼ ì‚¬ìš©í•´ í¬ë¡œë§ˆí‹±ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒ ë³´ë‹¤ëŠ” ì»¤ë°‹ì´ë‚˜ í‘¸ì‹œê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ìŠ¤í† ë¦¬ë¶ì„ ë¹Œë“œ
> 
1. ìŠ¤í† ë¦¬ë¶ ì‘ì„±
2. í¬ë¡œë§ˆí‹± CI ì—°ë™
3. UI íšŒê·€ í…ŒìŠ¤íŠ¸ ì§„í–‰
4. PR ìŠ¹ì¸ ë° Merge
5. ìŠ¤í† ë¦¬ë¶ ë°°í¬

```jsx
name: 'chromatic test'
on: pull_request
jobs:
  chromatic-deployment:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - uses: actions/setup-node@v3
        with:
          node-version: 19
      - name: Install dependencies
        run: npm ci
      - name: Publish to Chromatic
        uses: chromaui/action@v1
        with:
          projectToken: ${{ secrets.CHROMATIC_PROJECT_TOKEN }}
          onlyChanged: true
```
